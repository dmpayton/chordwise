#: import Chord chordwise.uix.chord.ChordImage
#: import asset chordwise.utils.asset

<PracticeScreen>:
    BoxLayout:
        orientation: 'vertical'
        Header
        BoxLayout:
            orientation: 'vertical'
            padding: '20dp'

            MainChordImage:
                id: main-chord
                width: self.parent.width
                on_release: root.toggle()
            Label:
                color: (.2, .2, .2, 1)
                halign: 'right'
                height: '60dp'
                size_hint_y: None
                text: '{time} @ {bpm} bpm'.format(time=root.time, bpm=root.bpm)
                text_size: self.size

        BoxLayout:
            id: playlist
            orientation: 'horizontal'
            size_hint_y: .2
            padding: '20dp'

            # Background
            canvas.before:
                Color:
                    rgb: (.95, .95, .95, 1)
                Rectangle:
                    pos: self.pos
                    size: self.size

            # Bottom border
            canvas.after:
                Color:
                    rgb: (.8, .8, .8, 1)
                Rectangle:
                    pos: self.x, (self.y + self.height)
                    size: self.width, 1

            ChordItem:
                id: previous-2
                opacity: .4

            ChordItem:
                id: previous-1
                opacity: .4

            ChordItem:
                id: current

            ChordItem:
                id: future-1
                opacity: .4

            ChordItem:
                id: future-2
                opacity: .4

<MainChordImage@ChordImage+ButtonBehavior>:

<ChordItem@ChordImage>:
    color: (.95, .95, .95, 1)
